"""Exposes a URL that specifies the behavior of this scalar."""
directive @specifiedBy(
  """The URL that specifies the behavior of this scalar."""
  url: String!
) on SCALAR

"""A brand sold by Alfie"""
type Brand {
  """The ID for the brand"""
  id: ID!

  """The display name of the brand"""
  name: String!

  """A slugified name for URL usage"""
  slug: String!
}

"""The various colour options available for an item."""
type Colour {
  """Unique ID for the colour."""
  id: ID!

  """Image resolver for the colour swatch."""
  swatch: Image

  """The name of the colour."""
  name: String!

  """The product images for the colour"""
  media: [Media!]
}

"""An ISO-8601 compliant date string"""
scalar Date

"""
An element in the breadcrumb that leads to the product.
DJ have terms for each level (class, subclass etc) but
these are omitted here for simplicity and flexibility.
"""
type HierarchyItem {
  """DJ's ID for the level/category."""
  categoryId: ID!

  """The display name - e.g. Menswear."""
  name: String!

  """For building a canonical URL."""
  slug: String!

  """The parent hierarchy item, except for root items."""
  parent: HierarchyItem
}

"""Represents an image resource."""
type Image {
  """A description of the contents of the image for accessibility purposes."""
  alt: String

  """The media content type."""
  mediaContentType: MediaContentType!

  """The original width of the image in pixels."""
  width: Int @deprecated(reason: "Unavailable from iSAMS, do not use")

  """The original height of the image in pixels."""
  height: Int @deprecated(reason: "Unavailable from iSAMS, do not use")

  """
  The location of the image as a URL.
  
  If no transform options are specified, then the original image will be preserved.
  
  All transformation options are considered "best-effort". Any transformation
  that the original image type doesn't support will be ignored.
  
  If you need multiple variations of the same image, then you can use [GraphQL
  aliases](https://graphql.org/learn/queries/#aliases).
  """
  url(
    """A set of options to transform the original image."""
    transform: ImageTransformInput
  ): URL!
}

"""Options for resizing an image."""
enum ImageFit {
  """
  Fit within the specified dimensions and maintain the source aspect ratio
  by resizing the image proportionally (default).
  """
  CONTAIN

  """
  Fill the specified dimensions without distortion by resizing the image
  proportionally, then cropping out any excess pixels.
  """
  COVER

  """
  Fill the specified dimensions exactly. If the target aspect ratio is
  different than the source aspect ratio, the image is stretched and squished
  as needed to fill the target dimensions.
  """
  FILL
}

"""Represents an image format."""
enum ImageFormat {
  """An AVIF image."""
  AVIF

  """A JPG image."""
  JPG

  """A PNG image."""
  PNG

  """A WEBP image."""
  WEBP

  """A GIF image."""
  GIF
}

"""The available options for transforming an image."""
input ImageTransformInput {
  """Image width in pixels."""
  width: Int

  """Image height in pixels."""
  height: Int

  """Control how an image is resized. Default is `contain`."""
  fit: ImageFit = CONTAIN

  """
  Image size multiplier for high-resolution retina displays. Must be within 1..3.
  """
  scale: Int = 1

  """
  Specify a preferred imaged format, instead of relying on content negotiation.
  """
  format: ImageFormat

  """Specify a preferred quality for lossy formats. Must be within 1..100."""
  quality: Int = 75
}

"""A key-value pair, where both key and value are strings."""
type KeyValuePair {
  """The key of the pair."""
  key: String!

  """The value of the pair."""
  value: String!
}

"""Represents a media resource."""
union Media = Image | Video

"""The types of media content."""
enum MediaContentType {
  """Am image."""
  IMAGE

  """A video."""
  VIDEO
}

"""
We are starting with one currency, but expect to handle more in future.
Each query will only return the currency requested, not all that are available.
"""
type Money {
  """The 3-letter currency code e.g. AUD."""
  currencyCode: String!

  """The amount in minor units (e.g. for $1.23 this will be 123)."""
  amount: Int!

  """The amount formatted according to the client locale (e.g. $1.23)."""
  amountFormatted: String!
}

"""A menu item within a parent menu."""
type NavMenuItem {
  """The menu item's title."""
  title: String!

  """The menu item's type."""
  type: NavMenuItemType!

  """The menu item's URL."""
  url: String

  """The menu item's media."""
  media: Media

  """The menu item's child items."""
  items: [NavMenuItem!]

  """The menu item's attributes, a dynamic list of key-value pairs."""
  attributes: [KeyValuePair]
}

"""A menu item type."""
enum NavMenuItemType {
  """An account page/screen link."""
  ACCOUNT

  """A home page/screen link."""
  HOME

  """A product listing link."""
  LISTING

  """A product link."""
  PRODUCT

  """A search link."""
  SEARCH

  """A page link."""
  PAGE

  """An http external link."""
  EXTERNAL_HTTP

  """A wishlist page/screen link."""
  WISHLIST
}

"""Pagination info"""
type Pagination {
  """Start point"""
  offset: Int!

  """Records to return"""
  limit: Int!

  """The total number of results"""
  total: Int!

  """Based on offset, how many pages are there?"""
  pages: Int!

  """Which page are we on?"""
  page: Int!

  """Do we have a next page? (If null, no, else new offset)"""
  nextPage: Int

  """Do we have a previous page? (If null, no, else new offset)"""
  previousPage: Int
}

"""The price of a variant. Includes previous pricing if discounted."""
type Price {
  """The current price."""
  amount: Money!

  """If discounted, the previous price."""
  was: Money
}

"""
DJ often display a price range or a 'from'.
If this data is present in the product and no variant is selected, display the range.
If high is null, display as 'From ${low}', otherwise '${low} to ${high}'
"""
type PriceRange {
  """The lowest price."""
  low: Money!

  """The highest price if not a 'from' range."""
  high: Money
}

"""A product for sale at Alfie."""
type Product {
  """Unique ID for the product and its variants."""
  id: ID!

  """
  DJ refer to products (including variants) as style numbers, so this is DJ's unique identifier.
  """
  styleNumber: String!

  """The formal name of the product."""
  name: String!

  """The brand of the product."""
  brand: Brand!

  """For displaying a high and low price range if it exists."""
  priceRange: PriceRange

  """One-line description of the product."""
  shortDescription: String!

  """Detailed description of the product."""
  longDescription: String

  """For building canonical URL to PDP."""
  slug: String!

  """Details of category/classification for breadcrumbs."""
  hierarchy: [HierarchyItem!]! @deprecated(reason: "Unavailable from iSAMS, do not use")

  """Product attributes common to all variants."""
  attributes: [KeyValuePair!]

  """Specific labels such as 'Bestseller' or 'New in'."""
  labels: [String!] @deprecated(reason: "Unavailable from iSAMS, do not use")

  """The 'default' variant."""
  defaultVariant: Variant!

  """All variants of the product, including the default one."""
  variants: [Variant!]!

  """Aggregation of all available sizes from all variants."""
  sizes: [Size!]

  """Aggregation of all available colours from all variants."""
  colours: [Colour!]
}

"""Filters can be used to refine searches"""
type ProductFilter {
  """Type of filter"""
  name: ProductFilterType!

  """Available values"""
  values: [ProductFilterValue]!
}

"""The different types of filter"""
enum ProductFilterType {
  BRAND
  COLOUR
  PRICE
  SIZE
}

"""A value available as a filter for a specific type"""
type ProductFilterValue {
  """The name of the value"""
  name: String!

  """Slugified form for query use"""
  slug: String!

  """The amount of current matches"""
  count: Int!

  """Whether this filter value is part of the current query"""
  selected: Boolean!
}

"""A collection of products with metadata"""
type ProductListing {
  """Listing title"""
  title: String!

  """Pagination data"""
  pagination: Pagination!

  """
  hierarchy for breadcrums. Only present if a specific  (instead of search).
  """
  hierarchy: [HierarchyItem!]

  """Array of products"""
  products: [Product!]!
}

"""Specify an additional filter in the query"""
input ProductListingRefineQuery {
  """A valid product filter name"""
  name: ProductFilterType!

  """
  One or more values (OR-ed) If name is PRICE, submit 2 values: [min, max]
  """
  values: [String!]!
}

"""Support sorting products"""
enum ProductListingSort {
  LOW_TO_HIGH
  HIGH_TO_LOW
  A_Z
  Z_A
}

"""Summary information of for a product sale"""
type ProductSummary {
  """Unique ID for the product and its variants."""
  id: ID!

  """
  DJ refer to products (including variants) as style numbers, so this is DJ's unique identifier.
  """
  styleNumber: String!

  """The formal name of the product."""
  name: String!

  """The brand of the product."""
  brand: Brand!

  """For displaying a high and low price range if it exists."""
  priceRange: PriceRange

  """One-line description of the product."""
  shortDescription: String!

  """For building canonical URL to PDP."""
  slug: String!

  """The 'default' variant."""
  defaultVariant: VariantSummary!

  """All variants of the product, including the default one."""
  variants: [VariantSummary!]!

  """Aggregation of all available sizes from all variants."""
  sizes: [Size!]

  """Aggregation of all available colours from all variants."""
  colours: [Colour!]
}

"""A collection of products with metadata"""
type ProductSummaryListing {
  """Listing title"""
  title: String

  """Pagination data"""
  pagination: Pagination!

  """Applicable filters"""
  filters: [ProductFilter]!

  """Array of products"""
  products: [ProductSummary!]!
}

"""The Query root for the schema."""
type Query {
  """List all the available brands"""
  brands: [Brand!]!

  """Retrieve a navigation menu by its handle."""
  navigation(
    """The nav menu's handle."""
    handle: String!
  ): [NavMenuItem!]!

  """Retrieve a list of the navigation handles."""
  navigationHandles: [String!]!

  """Retrieve search suggestion data by custom query"""
  suggestion(
    """Search by a custom query"""
    query: String!
  ): Suggestion!

  """Retrieve a product by its ID."""
  product(
    """The product's ID"""
    id: ID!
  ): Product

  """Retrieve a list of products"""
  productListing(
    """Starting point"""
    offset: Int!

    """Number of records"""
    limit: Int!

    """
    Filter by single category
    Assumption: We are using a unique category ID
    """
    categoryId: String

    """Filter by custom query"""
    query: String

    """Additional filters"""
    refine: [ProductListingRefineQuery!]

    """Sort order"""
    sort: ProductListingSort
  ): ProductListing
}

"""Sizing information for a product."""
type Size {
  """Unique size ID."""
  id: ID!

  """The size value (e.g. XS)."""
  value: String!

  """The scale of the size (e.g. US)."""
  scale: String

  """A description of the size (e.g. Extra Small)."""
  description: String

  """The size guide that includes this size."""
  sizeGuide: SizeGuide
}

"""Information about a size guide."""
type SizeGuide {
  """Unique size guide ID."""
  id: ID!

  """The name of the size guide (e.g. Men's shoes size guide)."""
  name: String!

  """A description for the size guide."""
  description: String

  """The ordered list of sizes that make up this size guide."""
  sizes: [Size!]!
}

"""A collection of information returned for suggestions"""
type Suggestion {
  """An array of potential search terms."""
  keywords: [SuggestionKeyword!]!

  """An array of suggested products."""
  products: [SuggestionProduct!]!

  """An array of suggested brands."""
  brands: [SuggestionBrand!]!
}

"""Suggested Brand for navigation purposes."""
type SuggestionBrand {
  """Name of the brand."""
  value: String!

  """Number of products matching the brand."""
  results: Int!

  """Slugified name of the brand."""
  slug: String!
}

"""Full potential search terms"""
type SuggestionKeyword {
  """Value of the suggested search term."""
  value: String!

  """Number of results that match the suggested search term."""
  results: Int!
}

"""A product for navigation purposes using the search."""
type SuggestionProduct {
  """Unique ID for the product."""
  id: ID!

  """The formal name of the product."""
  name: String!

  """The name of the brand for the product."""
  brandName: String!

  """Array of images and videos."""
  media: [Media!]!

  """How much does it cost?"""
  price: Price!

  """For building a navigation link to the product."""
  slug: String!
}

"""
Represents an [RFC 3986](https://datatracker.ietf.org/doc/html/rfc3986)-compliant URI string.

For example, `"https://www.google.com"` is a valid URL. It includes a scheme (`https`) and a host
(`www.google.com`).
"""
scalar URL

"""
Many products come in variants of colour, size and other attributes.
We default to one (the 'hero') and have an additional array including all variants.
A variant is a specific item, such as a brown extra-large kettle.
"""
type Variant {
  """DJ's unique identifier for the variant."""
  sku: ID!

  """Size, if applicable."""
  size: Size

  """Colour, if applicable."""
  colour: Colour

  """Array of images and videos."""
  media: [Media!]!

  """Attributes that are specific for this variant."""
  attributes: [KeyValuePair!]

  """How many of this variant in stock?"""
  stock: Int!

  """How much does it cost?"""
  price: Price!
}

"""Summary information included on product listing"""
type VariantSummary {
  """DJ's unique identifier for the variant."""
  sku: ID!

  """Size, if applicable."""
  size: Size

  """Colour, if applicable."""
  colour: Colour

  """Array of images and videos."""
  media: [Media!]!

  """How much does it cost?"""
  price: Price!
}

"""Represents a video resource."""
type Video {
  """A description of the contents of the video for accessibility purposes."""
  alt: String

  """The media content type."""
  mediaContentType: MediaContentType!

  """A preview image for the video."""
  previewImage: Image

  """The sources for the video."""
  sources: [VideoSource!]!
}

"""Represents a video format."""
enum VideoFormat {
  """An MP4 video, in H.264 (AVC) or H.265 (HEVC)."""
  MP4

  """A WebM video."""
  WEBM
}

"""Represents a source for a video resource."""
type VideoSource {
  """The format of the video source."""
  format: VideoFormat!

  """The video MIME type."""
  mimeType: String!

  """The URL of the video."""
  url: URL!

  """The width of the video."""
  width: Int! @deprecated(reason: "Unavailable from iSAMS, do not use")

  """The height of the video."""
  height: Int! @deprecated(reason: "Unavailable from iSAMS, do not use")
}

